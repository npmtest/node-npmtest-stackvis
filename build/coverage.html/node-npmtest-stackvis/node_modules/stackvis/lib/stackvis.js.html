<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-stackvis/node_modules/stackvis/lib/stackvis.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-stackvis">npmtest-stackvis (v0.0.2)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-stackvis/node_modules/stackvis/lib/stackvis.js</span></h1>
    <h2>
        
        Statements: <span class="metric">23.73% <small>(14 / 59)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 12)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 16)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">24.14% <small>(14 / 58)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-stackvis/node_modules/stackvis/lib/</a> &#187; stackvis.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*
 * lib/stackvis.js: Stackvis library interface
 */
&nbsp;
var mod_assert = require('assert');
var mod_jsprim = require('jsprim');
&nbsp;
exports.readerLookup = readerLookup;
exports.writerLookup = writerLookup;
exports.pipeStacks = pipeStacks;
&nbsp;
/*
 * Readers read stacktraces stored in specific formats and emit them in a common
 * form.  Consumers don't use readers directly, but rather pass them to
 * pipeStacks().
 *
 * Each reader is defined in its own module.  It's expected to export a single
 * field called "reader" that's a constructor function, which we return here.
 * Reader constructors should be invoked as new constructor(ReadableStream,
 * BunyanLog).  The object itself should then emit "stack" and "end" events.
 * The "stack" event includes an array of frames and a count for the number of
 * times that stack was seen in the input:
 *
 *    reader.on('stack', function (frames, count) {
 *            console.log(count + ' ' + frames.join(', '));
 *    });
 *
 * Readers may emit the same stack more than once, which isn't what most
 * consumers want.  That's why the main API is pipeStacks, which collapses
 * common stacks.
 */
<span class="fstat-no" title="function not covered" >function readerLookup(name)</span>
{
<span class="cstat-no" title="statement not covered" >	return (moduleLookup('input', name).reader);</span>
}
&nbsp;
/*
 * Writers take stacktraces stored in our common form and emit them in some
 * other specific format like a data file or a SVG visualization.  Like readers,
 * each writer is defined in its own module, and callers use them via
 * pipeStacks() rather than directly.
 *
 * Since writers do not emit events, they're not constructors.  Each writer just
 * defines a single field called "emit", invoked as emit(args, callback).
 * "args" must contain these fields:
 *
 *    stacks	StackSet		Stacks to visualize, as produced by
 *    					collapseStacks.
 *
 *    output	WritableStream		Output file
 *
 *    log	Bunyan Logger		Logger
 *
 * as well as any other module-specific parameters.
 */
<span class="fstat-no" title="function not covered" >function writerLookup(name)</span>
{
<span class="cstat-no" title="statement not covered" >	return (moduleLookup('output', name));</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function moduleLookup(type, name)</span>
{
<span class="cstat-no" title="statement not covered" >	var filename = './' + type + '-' + name;</span>
<span class="cstat-no" title="statement not covered" >	return (require(filename));</span>
}
&nbsp;
/*
 * Reads stacks from "instream" (a ReadableStream) using a new "readercons"
 * Reader object, collapses the stacks, and emits them to "outstream" using the
 * given writer.  This is the main way to convert stacks from one representation
 * (e.g., DTrace output) to another (e.g., a flamegraph).
 *
 * This is the primary interface for consumers, though it's *not* a stable
 * interface yet.
 */
<span class="fstat-no" title="function not covered" >function pipeStacks(log, instream, readercons, writer, outstream, args,</span>
    callback)
{
<span class="cstat-no" title="statement not covered" >	if (typeof (args) === 'function') {</span>
<span class="cstat-no" title="statement not covered" >		callback = args;</span>
<span class="cstat-no" title="statement not covered" >		args = {};</span>
	}
<span class="cstat-no" title="statement not covered" >	args = args || {};</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	var reader = new readercons(instream, log);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	collapseStacks(reader, <span class="fstat-no" title="function not covered" >function (err, stacks) {</span></span>
<span class="cstat-no" title="statement not covered" >		if (err) {</span>
<span class="cstat-no" title="statement not covered" >			log.error(err);</span>
<span class="cstat-no" title="statement not covered" >			return;</span>
		}
&nbsp;
<span class="cstat-no" title="statement not covered" >		var _args = mod_jsprim.deepCopy(args);</span>
<span class="cstat-no" title="statement not covered" >		_args.stacks = stacks;</span>
<span class="cstat-no" title="statement not covered" >		_args.output = outstream;</span>
<span class="cstat-no" title="statement not covered" >		_args.log = log;</span>
<span class="cstat-no" title="statement not covered" >		writer.emit(_args, <span class="fstat-no" title="function not covered" >function (err2) {</span></span>
			/*
			 * It's stupid that we need to check whether we're
			 * writing to stdout, but this is the same thing Node's
			 * stream.pipe() method does, because for some reason
			 * you can't "end" the stdout stream.
			 */
<span class="cstat-no" title="statement not covered" >			if (!err2 &amp;&amp; !outstream._isStdio)</span>
<span class="cstat-no" title="statement not covered" >				outstream.end();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			callback(err2);</span>
		});
	});
}
&nbsp;
/*
 * Collects "stack" events from the given reader, collapses common stacks, and
 * returns them asynchronously via "callback".  This could reasonably be a
 * public interface, but for now we assume that the only consumers would be
 * translators which would use the slightly higher-level pipeStacks() instead.
 */
<span class="fstat-no" title="function not covered" >function collapseStacks(reader, callback)</span>
{
<span class="cstat-no" title="statement not covered" >	var stacks = new StackSet();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	reader.on('stack', <span class="fstat-no" title="function not covered" >function (stack, count) {</span></span>
<span class="cstat-no" title="statement not covered" >		stacks.addStack(stack, count);</span>
	});
&nbsp;
<span class="cstat-no" title="statement not covered" >	reader.on('end', <span class="fstat-no" title="function not covered" >function () {</span> <span class="cstat-no" title="statement not covered" >callback(null, stacks); </span>});</span>
}
&nbsp;
/*
 * Internal representation for a collapsed set of stacks.
 */
<span class="fstat-no" title="function not covered" >function StackSet()</span>
{
<span class="cstat-no" title="statement not covered" >	this.ss_counts = {};	</span>/* maps serialized stack -&gt; count */
<span class="cstat-no" title="statement not covered" >	this.ss_stacks = {};	</span>/* maps serialized stack -&gt; stack */
}
&nbsp;
StackSet.prototype.addStack = <span class="fstat-no" title="function not covered" >function (stack, count)</span>
{
<span class="cstat-no" title="statement not covered" >	mod_assert.ok(Array.isArray(stack));</span>
<span class="cstat-no" title="statement not covered" >	mod_assert.equal(typeof (count), 'number');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	var key = stack.join(',');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	if (!this.ss_counts.hasOwnProperty(key)) {</span>
<span class="cstat-no" title="statement not covered" >		this.ss_counts[key] = 0;</span>
<span class="cstat-no" title="statement not covered" >		this.ss_stacks[key] = stack;</span>
	}
&nbsp;
<span class="cstat-no" title="statement not covered" >	this.ss_counts[key] += count;</span>
};
&nbsp;
/*
 * Iterates all stacks in order of decreasing count.  The callback function is
 * invoked as callback(frames, count) for each unique stack.
 */
StackSet.prototype.eachStackByCount = <span class="fstat-no" title="function not covered" >function (callback)</span>
{
<span class="cstat-no" title="statement not covered" >	var set = this;</span>
<span class="cstat-no" title="statement not covered" >	var keys = Object.keys(this.ss_stacks);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	keys.sort(<span class="fstat-no" title="function not covered" >function (a, b) {</span></span>
<span class="cstat-no" title="statement not covered" >		return (set.ss_counts[b] - set.ss_counts[a]);</span>
	});
&nbsp;
<span class="cstat-no" title="statement not covered" >	keys.forEach(<span class="fstat-no" title="function not covered" >function (key) {</span></span>
<span class="cstat-no" title="statement not covered" >		callback(set.ss_stacks[key], set.ss_counts[key]);</span>
	});
};
&nbsp;
/*
 * Iterates all stacks in alphabetical order by full stack.
 */
StackSet.prototype.eachStackByStack = <span class="fstat-no" title="function not covered" >function (callback)</span>
{
<span class="cstat-no" title="statement not covered" >	var set = this;</span>
<span class="cstat-no" title="statement not covered" >	var keys = Object.keys(this.ss_stacks);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	keys.sort().forEach(<span class="fstat-no" title="function not covered" >function (key) {</span></span>
<span class="cstat-no" title="statement not covered" >		callback(set.ss_stacks[key], set.ss_counts[key]);</span>
	});
};
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 25 2017 12:28:05 GMT+0000 (UTC)</div>
</div>
</body>
</html>
